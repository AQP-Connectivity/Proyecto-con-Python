{% extends "base.html" %}
{% block title %}Usuarios{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="card shadow-lg border-0 rounded-4 mx-auto" style="max-width: 600px;">
    <!-- Encabezado -->
    <div class="card-header bg-primary text-white text-center fw-bold fs-4 py-3 rounded-top-4">
      üë• Gesti√≥n de Usuarios
    </div>

    <div class="card-body p-4">
      <form method="POST" class="needs-validation" novalidate>
        <!-- Nombre -->
        <div class="mb-3">
          <label for="nombre" class="form-label fw-semibold">Nombre completo</label>
          <div class="input-group has-validation">
            <span class="input-group-text bg-light border-end-0">
              <i class="bi bi-person text-muted"></i>
            </span>
            <input
              type="text"
              class="form-control border-start-0"
              id="nombre"
              name="nombre"
              placeholder="Ingrese su nombre completo"
              required
            />
            <div class="invalid-feedback">
              Por favor, ingrese un nombre v√°lido.
            </div>
          </div>
        </div>

        <!-- Correo -->
        <div class="mb-3">
          <label for="correo" class="form-label fw-semibold">Correo electr√≥nico</label>
          <div class="input-group has-validation">
            <span class="input-group-text bg-light border-end-0">
              <i class="bi bi-envelope text-muted"></i>
            </span>
            <input
              type="email"
              class="form-control border-start-0"
              id="correo"
              name="correo"
              placeholder="ejemplo@dominio.com"
              required
            />
            <div class="invalid-feedback">
              Por favor, ingrese un correo electr√≥nico v√°lido.
            </div>
          </div>
        </div>

        <!-- Rol -->
        <div class="mb-4">
          <label for="rol" class="form-label fw-semibold">Rol</label>
          <div class="input-group has-validation">
            <span class="input-group-text bg-light border-end-0">
              <i class="bi bi-shield-lock text-muted"></i>
            </span>
            <select
              class="form-select border-start-0"
              id="rol"
              name="rol"
              required
            >
              <option value="">Seleccione un rol...</option>
              <option value="Administrador">Administrador</option>
              <option value="Usuario">Usuario</option>
            </select>
            <div class="invalid-feedback">
              Por favor, seleccione un rol.
            </div>
          </div>
        </div>

        <!-- Bot√≥n de env√≠o -->
        <div class="d-grid">
          <button type="submit" class="btn btn-primary btn-lg fw-semibold py-2">
            ‚ûï Registrar Usuario
          </button>
        </div>
      </form>

      <!-- Mensaje de retroalimentaci√≥n -->
      {% if mensaje %}
        <div class="alert alert-info mt-4 text-center rounded-3 shadow-sm mb-0" role="alert">
          {{ mensaje }}
        </div>
      {% endif %}
    </div>
  </div>
</div>

<!-- Script para validaci√≥n Bootstrap -->
<script>
  (function () {
    'use strict';
    window.addEventListener('load', function () {
      const forms = document.querySelectorAll('.needs-validation');
      Array.prototype.slice.call(forms).forEach(function (form) {
        form.addEventListener('submit', function (event) {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated');
        }, false);
      });
    }, false);
  })();
</script>
{% endblock %}
