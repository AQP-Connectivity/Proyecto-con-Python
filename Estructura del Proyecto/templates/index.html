<!-- ------------------------------------------ -->
<!-- Heredamos la plantilla base.html           -->
<!-- ------------------------------------------ -->
{% extends "base.html" %}
<!--Probando-->
<!-- ------------------------------------------ -->
<!-- Definimos el tÃ­tulo que se mostrarÃ¡ en la pestaÃ±a del navegador -->
<!-- ------------------------------------------ -->
{% block title %}Dashboard - Sistema de Parking{% endblock %}

<!-- ------------------------------------------ -->
<!-- Bloque principal de contenido de la pÃ¡gina -->
<!-- ------------------------------------------ -->
{% block content %}
<div class="container-fluid">
  
  <!-- TÃ­tulo principal -->
  <h2 class="mb-4 fw-bold text-primary text-center">
    ðŸš— Sistema de Parking - Detector de Placas
  </h2>

  <!-- -------------------------------------------------- -->
  <!-- SecciÃ³n 1: Subida de imagen para detecciÃ³n de placa -->
  <!-- -------------------------------------------------- -->
  <div class="card shadow p-4 mb-4 mx-auto" style="max-width: 500px;">
    
    <!-- Formulario para subir imagen -->
    <form method="POST" enctype="multipart/form-data">
      <div class="mb-3">
        <label for="file" class="form-label fw-semibold">Subir Imagen del VehÃ­culo</label>
        <input type="file" class="form-control" id="file" name="file" required />
      </div>
      <button type="submit" class="btn btn-primary w-100 mb-2">
        Detectar Placa
      </button>
    </form>

    <!-- -------------------------------------------------- -->
    <!-- SecciÃ³n 2: BotÃ³n para activar la cÃ¡mara en tiempo real -->
    <!-- -------------------------------------------------- -->
    <form action="{{ url_for('camara') }}" method="GET">
      <button type="submit" class="btn btn-success w-100">
        ðŸ“· Activar CÃ¡mara
      </button>
    </form>
  </div>

  <!-- -------------------------------------------------- -->
  <!-- SecciÃ³n 3: Resultado de la detecciÃ³n de la placa   -->
  <!-- -------------------------------------------------- -->
  {% if placa %}
  <div class="card shadow p-4 text-center mx-auto" style="max-width: 500px;">
    <h4 class="text-success mb-3">âœ… Placa Detectada:</h4>
    <p class="display-6 fw-bold">{{ placa }}</p>
    <img
      src="{{ url_for('static', filename='placa_recortada.jpg') }}"
      alt="Imagen de la placa detectada"
      class="img-fluid border border-2 border-success mt-3"
    />
  </div>
  {% endif %}

  <!-- -------------------------------------------------- -->
  <!-- SecciÃ³n 4: BotÃ³n para ver el historial de registros guardados -->
  <!-- -------------------------------------------------- -->
  <div class="mt-4 text-center mx-auto" style="max-width: 500px;">
    <a href="{{ url_for('historial') }}" class="btn btn-outline-secondary w-100">
      ðŸ“‹ Ver Registros Guardados
    </a>
  </div>

</div>
{% endblock %}
