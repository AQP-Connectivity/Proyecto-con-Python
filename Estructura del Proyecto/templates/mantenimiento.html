{% extends "base.html" %}

{% block title %}Mantenimiento{% endblock %}

{% block content %}
<div class="container py-5">

  <!-- TÃTULO -->
  <div class="text-center mb-5">
    <h2 class="fw-bold text-primary">ğŸ› ï¸ Registro de Mantenimiento</h2>
    <p class="text-secondary">Complete los datos del mantenimiento realizado en la playa de estacionamiento</p>
  </div>

  <!-- FORMULARIO -->
  <div class="card shadow-lg border-0 rounded-4 p-4 mx-auto" style="max-width: 650px;">
    <form method="POST" class="needs-validation" novalidate>

      <div class="row g-3">

        <!-- Fecha -->
        <div class="col-md-6">
          <label class="form-label fw-semibold">ğŸ“… Fecha de mantenimiento</label>
          <input type="date" name="fecha" class="form-control" required>
        </div>

        <!-- TÃ©cnico -->
        <div class="col-md-6">
          <label class="form-label fw-semibold">ğŸ‘· TÃ©cnico responsable</label>
          <input type="text" name="tecnico" class="form-control" placeholder="Nombre del tÃ©cnico" required>
        </div>

        <!-- Tipo de mantenimiento -->
        <div class="col-md-6">
          <label class="form-label fw-semibold">ğŸ”§ Tipo de mantenimiento</label>
          <select name="tipo" class="form-select" required>
            <option value="">Seleccione...</option>
            <option value="preventivo">Preventivo</option>
            <option value="correctivo">Correctivo</option>
            <option value="evolutivo">Evolutivo</option>
          </select>
        </div>

        <!-- Ãrea afectada -->
        <div class="col-md-6">
          <label class="form-label fw-semibold">ğŸ“ Ãrea</label>
          <select name="area" class="form-select" required>
            <option value="">Seleccioneâ€¦</option>
            <option value="barreras">Barreras de acceso</option>
            <option value="sensores">Sensores / cÃ¡maras</option>
            <option value="iluminacion">IluminaciÃ³n</option>
            <option value="senalizacion">SeÃ±alizaciÃ³n</option>
            <option value="sistema">Sistema informÃ¡tico</option>
            <option value="otros">Otros</option>
          </select>
        </div>

        <!-- DescripciÃ³n -->
        <div class="col-12">
          <label class="form-label fw-semibold">ğŸ“ DescripciÃ³n del trabajo</label>
          <textarea name="descripcion" rows="3" class="form-control" placeholder="Detalle del mantenimiento" required></textarea>
        </div>

        <!-- Costo -->
        <div class="col-12">
          <label class="form-label fw-semibold">ğŸ’° Costo (S/.)</label>
          <input type="number" name="costo" step="0.01" min="0" class="form-control" required>
        </div>

      </div>

      <!-- BotÃ³n -->
      <button type="submit" class="btn btn-primary fw-bold w-100 mt-4 py-2">
        ğŸ’¾ Guardar Mantenimiento
      </button>
    </form>

    {% if mensaje %}
    <div class="alert alert-success mt-4 text-center rounded-3 shadow-sm">
      âœ… <strong>{{ mensaje }}</strong>
    </div>
    {% endif %}
  </div>

  <!-- TABLA -->
  <div class="card shadow-sm mt-5 border-0 rounded-4 overflow-hidden">
    <div class="card-header bg-primary text-white fw-semibold">
      ğŸ—‚ï¸ Registros de Mantenimiento
    </div>

    <div class="table-responsive">
      <table class="table table-striped table-hover align-middle mb-0 text-center">
        <thead class="table-light">
          <tr>
            <th>Fecha</th>
            <th>TÃ©cnico</th>
            <th>Tipo</th>
            <th>Ãrea</th>
            <th>DescripciÃ³n</th>
            <th>Costo (S/.)</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>2025-09-28</td>
            <td>Juan PÃ©rez</td>
            <td>Preventivo</td>
            <td>Barreras</td>
            <td>LubricaciÃ³n y prueba de funcionamiento</td>
            <td>20.00</td>
          </tr>

          <tr>
            <td>2025-09-29</td>
            <td>MarÃ­a LÃ³pez</td>
            <td>Correctivo</td>
            <td>IluminaciÃ³n</td>
            <td>Reemplazo de focos daÃ±ados</td>
            <td>35.00</td>
          </tr>
        </tbody>

      </table>
    </div>
  </div>

</div>
{% endblock %}
